(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{wc19:function(t,e,n){"use strict";n.r(e),n.d(e,"SingleModule",(function(){return y}));var i=n("ofXK"),r=n("fXoL"),o=n("3Pt+"),s=n("P7U6"),a=n("tyNb"),c=n("dNgK"),l=n("wc+I"),u=n("8jki"),p=n("IoXH");let d=(()=>{class t{constructor(){this.toggleEvent=new r.n}ngOnInit(){}toggle(){this.toggleEvent.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-toggle-button"]],outputs:{toggleEvent:"toggleEvent"},decls:6,vars:0,consts:[[1,"tooltip"],[1,"switch"],["type","checkbox",3,"click"],[1,"slider","round"],[1,"tooltiptext"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"label",1),r.Ob(2,"input",2),r.Vb("click",(function(){return e.toggle()})),r.Nb(),r.Kb(3,"span",3),r.Ob(4,"span",4),r.pc(5,"Activer le mode soir\xe9e"),r.Nb(),r.Nb(),r.Nb())},styles:['.switch[_ngcontent-%COMP%]{display:inline-block;width:60px;height:34px;position:fixed;top:20px;right:40px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:rgba(255,249,249,.5)}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:var(--purple);background-color:var(--pink)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--purple)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--purple)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),t})();const h=["tryValue"],b=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.tryValueService=t,this.router=e,this._snackBar=n,this.builder=i,this.playNextSong=new r.n,this.score=0,this.placeholder="Une id\xe9e du nom de la chanson ou de l'artiste?",this.tryButtonTitle="Je me lance!",this.chansonSuivanteTitle="Aucune id\xe9e , Chanson suivante!",this.modeSoiree=!1,this.tryAnswer=new o.c("",[o.m.required]),this.singlePlayForm=i.group({tryAnwser:this.tryAnswer})}ngOnInit(){this.compteurTrack=0,this.lecteurAudio=document.getElementById("lecteurAudio"),this.jouerOnePlaylist()}jouerOnePlaylist(){const t=window.location.pathname.split("=");this.idCurrentPlaylist=t[t.length-1],this.currentPlaylist=this.getPlaylistFromSessionStorage(this.idCurrentPlaylist)}getPlaylistFromSessionStorage(t){const e=JSON.parse(sessionStorage.getItem(t));if(this.currentPlaylist=e,e)return this.lecturePlaylist(),e}lecturePlaylist(){this.compteurTrack++,this.resultat="",this.singlePlayForm.reset(),this.compteurTrack<this.currentPlaylist.tracks.length?(this.src=this.currentPlaylist.tracks[this.compteurTrack].preview_url,this.autoplay=!0,this.playNextSong.emit(),this.avancement=" "+this.compteurTrack+" / "+this.currentPlaylist.tracks.length):(this.src=null,this.autoplay=!1,this.resultat="La partie est finie! Bravo, votre score  est de "+this.score+"/20")}playPausePressed(){console.log("Play Pause Pressed")}onAudioEnded(){this.chansonSuivante()}chansonSuivante(){this._snackBar.open(`C'\xe9tait ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}  `,"X",{duration:2e3}),this.lecturePlaylist()}checkAnswer(t,e){let n;console.log("test"),n=!!this.modeSoiree||this.tryValueService.tryValue(e,this.currentPlaylist.tracks[this.compteurTrack],!1),n?(console.log("YES"),this.score++,this._snackBar.open(`Bravo, c'\xe9tait ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}  `,"X",{duration:2e3}),this.lecturePlaylist()):(this._snackBar.open("Nope, try again... ","X",{duration:2e3}),console.log("faux"))}RetourChoixPlaylist(){this.router.navigate(["/choix-playlist"])}modeSoireeOnOff(t){this.modeSoiree=!this.modeSoiree,console.log(this.modeSoiree),this.modeSoiree?(this.placeholder="Clique ici pour voir la r\xe9ponse",this.tryButtonTitle="J'ai la bonne r\xe9ponse!",this.chansonSuivanteTitle="Rat\xe9 !"):(this.placeholder="Une id\xe9e du nom de la chanson ou de l'artiste?",this.tryButtonTitle="Je me lance!",this.chansonSuivanteTitle="Aucune id\xe9e, chanson suivante")}showResult(){this.modeSoiree&&(this.tryValue.nativeElement.value=-1!=this.tryValue.nativeElement.value.indexOf("C'est ")?"":`C'est ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s.a),r.Jb(a.b),r.Jb(c.a),r.Jb(o.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-single"]],viewQuery:function(t,e){var n;1&t&&r.tc(h,!0),2&t&&r.dc(n=r.Wb())&&(e.tryValue=n.first)},outputs:{playNextSong:"playNextSong"},decls:20,vars:11,consts:[["id","jeu"],["id","avancement"],[3,"src","autoplay","playPausePressedEvent","audioEndedEvent"],["id","lecteur"],[3,"formGroup","submit"],[1,"group"],["type","search","id","valueToTry","size","50",1,"textTry",3,"formControl","placeholder","readOnly","click"],["tryValue",""],[1,"wrapbtn"],[3,"title","click"],["id","resultat"],["id","score"],["title"," Changer de playlist",3,"click"],[3,"toggleEvent"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"section",0),r.Ob(1,"div",1),r.pc(2),r.Nb(),r.Ob(3,"app-audio-player",2),r.Vb("playPausePressedEvent",(function(){return e.playPausePressed()}))("audioEndedEvent",(function(){return e.onAudioEnded()})),r.Nb(),r.Kb(4,"div",3),r.Ob(5,"form",4),r.Vb("submit",(function(n){r.fc(t);const i=r.ec(8);return e.checkAnswer(n,i.value)})),r.Ob(6,"div",5),r.Ob(7,"input",6,7),r.Vb("click",(function(){return e.showResult()})),r.Nb(),r.Nb(),r.Nb(),r.Ob(9,"div",8),r.Ob(10,"app-simple-button",9),r.Vb("click",(function(n){r.fc(t);const i=r.ec(8);return e.checkAnswer(n,i.value)})),r.Nb(),r.Ob(11,"app-simple-button",9),r.Vb("click",(function(){return e.chansonSuivante()})),r.Nb(),r.Nb(),r.Ob(12,"div",10),r.pc(13),r.Nb(),r.Ob(14,"div",11),r.pc(15),r.Nb(),r.Ob(16,"app-simple-button",12),r.Vb("click",(function(){return e.RetourChoixPlaylist()})),r.Nb(),r.Kb(17,"br"),r.Kb(18,"app-info-button"),r.Ob(19,"app-toggle-button",13),r.Vb("toggleEvent",(function(t){return e.modeSoireeOnOff(t)})),r.Nb(),r.Nb()}2&t&&(r.zb(2),r.qc(e.avancement),r.zb(1),r.bc("src",e.src)("autoplay",e.autoplay),r.zb(2),r.bc("formGroup",e.singlePlayForm),r.zb(2),r.bc("formControl",e.tryAnswer)("placeholder",e.placeholder)("readOnly",e.modeSoiree),r.zb(3),r.bc("title",e.tryButtonTitle),r.zb(1),r.bc("title",e.chansonSuivanteTitle),r.zb(2),r.qc(e.resultat),r.zb(2),r.rc("score : ",e.score,"/20"))},directives:[l.a,o.n,o.i,o.e,o.a,o.h,o.d,u.a,p.a,d],styles:["#jeu[_ngcontent-%COMP%]{padding:20px;height:60vh;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;justify-items:center;align-items:center;grid-gap:30px}#resultat[_ngcontent-%COMP%]{height:50px}#score[_ngcontent-%COMP%]{font-weight:600;font-size:medium}.wrapbtn[_ngcontent-%COMP%]{display:flex}.textTry[_ngcontent-%COMP%]{border:none;border-bottom:2px solid var(--purple);background-color:rgba(255,192,203,.2);text-align:center;padding:10px;font-size:1rem;border-radius:.12em;outline:none}[_ngcontent-%COMP%]::placeholder{color:var(--pink);font-size:20px}@media screen and (max-width:700px){.textTry[_ngcontent-%COMP%]{display:flex;max-width:200px}.fixed-div[_ngcontent-%COMP%]{visibility:hidden}}@keyframes fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}"]}),t})()}];var g=n("PCNd");let y=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[i.b,a.c.forChild(b),g.a,o.f,o.l],i.b,o.f,o.l]}),t})()}}]);