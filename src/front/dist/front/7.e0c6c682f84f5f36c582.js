(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{wc19:function(t,e,n){"use strict";n.r(e),n.d(e,"SingleModule",(function(){return m}));var i=n("ofXK"),o=n("fXoL"),r=n("3Pt+"),s=n("P7U6"),a=n("tyNb"),l=n("dNgK"),c=n("urPA"),u=n("wc+I"),p=n("8jki"),d=n("IoXH");let h=(()=>{class t{constructor(){this.toggleEvent=new o.n}ngOnInit(){}toggle(){this.toggleEvent.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-toggle-button"]],outputs:{toggleEvent:"toggleEvent"},decls:6,vars:0,consts:[[1,"tooltip"],[1,"switch"],["type","checkbox",3,"click"],[1,"slider","round"],[1,"tooltiptext"]],template:function(t,e){1&t&&(o.Ob(0,"div",0),o.Ob(1,"label",1),o.Ob(2,"input",2),o.Vb("click",(function(){return e.toggle()})),o.Nb(),o.Kb(3,"span",3),o.Ob(4,"span",4),o.pc(5,"Activer le mode soir\xe9e"),o.Nb(),o.Nb(),o.Nb())},styles:['.switch[_ngcontent-%COMP%]{display:inline-block;width:60px;height:34px;position:fixed;top:20px;right:40px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:rgba(255,249,249,.5)}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:var(--purple);background-color:var(--pink)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--purple)}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--purple)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;background-color:#000;color:var(--pink);text-align:center;padding:5px;margin-top:5px;border-radius:6px;width:100px;top:100%;left:50%;margin-left:-60px;position:absolute;z-index:1}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;border-bottom:1px dotted var(--purple)}']}),t})();const b=["tryValue"],g=[{path:"",component:(()=>{class t{constructor(t,e,n,i,s){this.tryValueService=t,this.router=e,this._snackBar=n,this.builder=i,this.cookieService=s,this.playNextSong=new o.n,this.score=0,this.placeholder="Une id\xe9e du nom de la chanson ou de l'artiste?",this.tryButtonTitle="Je me lance!",this.chansonSuivanteTitle="Aucune id\xe9e , Chanson suivante!",this.modeSoiree=!1,this.tryAnswer=new r.c("",[r.m.required]),this.singlePlayForm=i.group({tryAnwser:this.tryAnswer})}ngOnInit(){this.compteurTrack=0,this.lecteurAudio=document.getElementById("lecteurAudio"),this.jouerOnePlaylist()}jouerOnePlaylist(){const t=window.location.pathname.split("=");this.idCurrentPlaylist=t[t.length-1],this.currentPlaylist=this.getPlaylistFromSessionStorage(this.idCurrentPlaylist)}getPlaylistFromSessionStorage(t){const e=sessionStorage.getItem(t);if(this.currentPlaylist=JSON.parse(e),e)return this.lecturePlaylist(),this.currentPlaylist}lecturePlaylist(){this.compteurTrack++,this.resultat="",this.singlePlayForm.reset(),this.compteurTrack<this.currentPlaylist.tracks.length?(this.src=this.currentPlaylist.tracks[this.compteurTrack].preview_url,this.autoplay=!0,this.playNextSong.emit(),this.avancement=" "+this.compteurTrack+" / "+this.currentPlaylist.tracks.length):(this.src=null,this.autoplay=!1,this.resultat="La partie est finie! Bravo, votre score  est de "+this.score+"/20")}playPausePressed(){console.log("Play Pause Pressed")}onAudioEnded(){this.chansonSuivante()}chansonSuivante(){this._snackBar.open(`C'\xe9tait ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}  `,"X",{duration:2e3}),this.lecturePlaylist()}checkAnswer(t,e){let n;console.log("test"),n=!!this.modeSoiree||this.tryValueService.tryValue(e,this.currentPlaylist.tracks[this.compteurTrack],!1),n?(console.log("YES"),this.score++,this._snackBar.open(`Bravo, c'\xe9tait ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}  `,"X",{duration:2e3}),this.lecturePlaylist()):(this._snackBar.open("Nope, try again... ","X",{duration:2e3}),console.log("faux"))}RetourChoixPlaylist(){this.router.navigate(["/choix-playlist"])}modeSoireeOnOff(t){this.modeSoiree=!this.modeSoiree,console.log(this.modeSoiree),this.modeSoiree?(this.placeholder="Clique ici pour voir la r\xe9ponse",this.tryButtonTitle="J'ai la bonne r\xe9ponse!",this.chansonSuivanteTitle="Rat\xe9 !"):(this.placeholder="Une id\xe9e du nom de la chanson ou de l'artiste?",this.tryButtonTitle="Je me lance!",this.chansonSuivanteTitle="Aucune id\xe9e, chanson suivante")}showResult(){this.modeSoiree&&(this.tryValue.nativeElement.value=-1!=this.tryValue.nativeElement.value.indexOf("C'est ")?"":`C'est ${this.currentPlaylist.tracks[this.compteurTrack].name} de ${this.currentPlaylist.tracks[this.compteurTrack].artist}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(s.a),o.Jb(a.b),o.Jb(l.a),o.Jb(r.b),o.Jb(c.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-single"]],viewQuery:function(t,e){var n;1&t&&o.uc(b,!0),2&t&&o.dc(n=o.Wb())&&(e.tryValue=n.first)},outputs:{playNextSong:"playNextSong"},decls:22,vars:12,consts:[["id","jeu"],["id","avancement"],[3,"src","autoplay","playPausePressedEvent","audioEndedEvent"],["id","lecteur"],[3,"formGroup","submit"],[1,"group"],["type","search","id","valueToTry","size","50",1,"textTry",3,"formControl","placeholder","readOnly","click"],["tryValue",""],[1,"wrapbtn"],[3,"title","click"],["id","resultat"],["id","score"],["title"," Changer de playlist",3,"click"],[3,"toggleEvent"]],template:function(t,e){if(1&t){const t=o.Pb();o.Ob(0,"section",0),o.Ob(1,"h1"),o.pc(2),o.Nb(),o.Ob(3,"div",1),o.pc(4),o.Nb(),o.Ob(5,"app-audio-player",2),o.Vb("playPausePressedEvent",(function(){return e.playPausePressed()}))("audioEndedEvent",(function(){return e.onAudioEnded()})),o.Nb(),o.Kb(6,"div",3),o.Ob(7,"form",4),o.Vb("submit",(function(n){o.fc(t);const i=o.ec(10);return e.checkAnswer(n,i.value)})),o.Ob(8,"div",5),o.Ob(9,"input",6,7),o.Vb("click",(function(){return e.showResult()})),o.Nb(),o.Nb(),o.Nb(),o.Ob(11,"div",8),o.Ob(12,"app-simple-button",9),o.Vb("click",(function(n){o.fc(t);const i=o.ec(10);return e.checkAnswer(n,i.value)})),o.Nb(),o.Ob(13,"app-simple-button",9),o.Vb("click",(function(){return e.chansonSuivante()})),o.Nb(),o.Nb(),o.Ob(14,"div",10),o.pc(15),o.Nb(),o.Ob(16,"div",11),o.pc(17),o.Nb(),o.Ob(18,"app-simple-button",12),o.Vb("click",(function(){return e.RetourChoixPlaylist()})),o.Nb(),o.Kb(19,"br"),o.Kb(20,"app-info-button"),o.Ob(21,"app-toggle-button",13),o.Vb("toggleEvent",(function(t){return e.modeSoireeOnOff(t)})),o.Nb(),o.Nb()}2&t&&(o.zb(2),o.qc(null==e.currentPlaylist?null:e.currentPlaylist.name),o.zb(2),o.qc(e.avancement),o.zb(1),o.bc("src",e.src)("autoplay",e.autoplay),o.zb(2),o.bc("formGroup",e.singlePlayForm),o.zb(2),o.bc("formControl",e.tryAnswer)("placeholder",e.placeholder)("readOnly",e.modeSoiree),o.zb(3),o.bc("title",e.tryButtonTitle),o.zb(1),o.bc("title",e.chansonSuivanteTitle),o.zb(2),o.qc(e.resultat),o.zb(2),o.rc("score : ",e.score,"/20"))},directives:[u.a,r.n,r.i,r.e,r.a,r.h,r.d,p.a,d.a,h],styles:["#jeu[_ngcontent-%COMP%]{padding:20px;height:60vh;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;justify-items:center;align-items:center;grid-gap:30px}#resultat[_ngcontent-%COMP%]{height:50px}#score[_ngcontent-%COMP%]{font-weight:600;font-size:medium}.wrapbtn[_ngcontent-%COMP%]{display:flex}.textTry[_ngcontent-%COMP%]{border:none;border-bottom:2px solid var(--purple);background-color:rgba(255,192,203,.2);text-align:center;padding:10px;font-size:1rem;border-radius:.12em;outline:none}[_ngcontent-%COMP%]::placeholder{color:var(--pink);font-size:20px}@media screen and (max-width:700px){.textTry[_ngcontent-%COMP%]{display:flex;max-width:200px}.fixed-div[_ngcontent-%COMP%]{visibility:hidden}}@keyframes fadein{0%{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadeout{0%{bottom:30px;opacity:1}to{bottom:0;opacity:0}}"]}),t})()}];var y=n("PCNd");let m=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[i.b,a.c.forChild(g),y.a,r.f,r.l],i.b,r.f,r.l]}),t})()}}]);